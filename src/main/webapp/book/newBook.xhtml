<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:composition template="/WEB-INF/includes/template.xhtml">
        <ui:define name="htmlHead">
            <meta name="description" content="Hello world input name"/>
            <title>Hello world input name</title>
        </ui:define>
        <ui:define name="main">
            <h1>Create a new book</h1>
            This example shows a typical double-submit problem. For detailed description
            of "double-submit" problem, please read <a
                href="http://www.theserverside.com/tt/articles/article.tss?l=RedirectAfterPost">"Redirect After Post" article by
            Michael Jouravlev</a>.
            <hr/>
            <h:form>
                <table border="0">
                    <tr>
                        <td>
                            Title :
                        </td>
                        <td>
                            <h:inputText value="#{itemBean.book.title}"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Price :
                        </td>
                        <td>
                            <h:inputText value="#{itemBean.book.price}"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Description :
                        </td>
                        <td>
                            <h:inputTextarea value="#{itemBean.book.description}" cols="16" rows="3"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Number of pages :
                        </td>
                        <td>
                            <h:inputText value="#{itemBean.book.nbOfPage}"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Tags :
                        </td>
                        <td>
                            <h:inputText value="#{itemBean.tags}"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Language code :
                        </td>
                        <td>
                            <h:inputText value="#{itemBean.languageCode}"/>
                        </td>
                    </tr>
                </table>

                <h:commandButton value="Create a book" action="#{itemBean.doCreateBook}">
                    <f:ajax execute="@form" render=":booklist"/>
                </h:commandButton>

            </h:form>

            <hr/>
            <h1>List of books</h1>
            <hr/>
            <h:dataTable id="booklist" value="#{itemBean.bookList}" var="bk" border="1">
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="ID"/>
                    </f:facet>
                    <h:outputText value="#{bk.id}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Title"/>
                    </f:facet>
                    <h:outputText value="#{bk.title}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Price"/>
                    </f:facet>
                    <h:outputText value="#{bk.price}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Language"/>
                    </f:facet>
                    <h:outputText value="#{bk.contentLanguage}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Description"/>
                    </f:facet>
                    <h:outputText value="#{bk.description}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Number Of Pages"/>
                    </f:facet>
                    <h:outputText value="#{bk.nbOfPage}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Tags"/>
                    </f:facet>
                    <h:outputText value="#{bk.tagsAsString}"/>
                </h:column>
            </h:dataTable>
        </ui:define>
    </ui:composition>
</html>
